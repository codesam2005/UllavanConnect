<!DOCTYPE html>
<html lang="ta">  <!-- Changed language to Tamil -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="உழவன் கனெக்ட் - விவசாயி நேரடி சந்தை">
  <title>உழவன் கனெக்ட் - விவசாயி டாஷ்போர்டு</title>
  
  <!-- Preload critical assets -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" as="style">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" as="style">
  
  <!-- Stylesheets -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.10.3/cdn.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js" defer></script>
  
  <style>
    /* All your existing CSS remains exactly the same */
    :root {
      --primary-color: #10B981;
      --primary-dark: #059669;
      --secondary-color: #F59E0B;
      --secondary-dark: #D97706;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f3f4f6;
    }

    /* ... (keep all other CSS rules exactly the same) ... */
  </style>
</head>
<body x-data="{ 
  mobileMenuOpen: false,
  activeTab: 'dashboard',
  notifications: 3,
  language: 'tamil',  // Default language set to Tamil
  isRecording: false,
  priceTrends: {
    tomatoes: { price: 45, trend: 'up', change: 5 },
    onions: { price: 30, trend: 'down', change: 2 },
    eggplant: { price: 25, trend: 'stable', change: 0 }
  },
  startRecording() {
    this.isRecording = true;
  },
  stopRecording() {
    this.isRecording = false;
  },
  translations: {
    tamil: {
      dashboard: 'டாஷ்போர்டு',
      myProducts: 'என் பொருட்கள்',
      orders: 'ஆர்டர்கள்',
      earnings: 'வருவாய்',
      settings: 'அமைப்புகள்',
      addProduct: 'புதிய பொருள் சேர்',
      totalSales: 'மொத்த விற்பனை',
      pendingOrders: 'நிலுவையில் உள்ள ஆர்டர்கள்',
      totalEarnings: 'மொத்த வருவாய்',
      recentOrders: 'சமீபத்திய ஆர்டர்கள்',
      productName: 'பொருள் பெயர்',
      price: 'விலை',
      stock: 'ஸ்டாக்',
      status: 'நிலை',
      actions: 'செயல்கள்',
      viewAll: 'அனைத்தையும் பார்க்க',
      logout: 'வெளியேறு',
      voiceUpload: 'குரல் மூலம் பதிவேற்று',
      priceUp: 'விலை உயர்வு',
      priceDown: 'விலை குறைவு',
      priceStable: 'விலை நிலையானது',
      weather: 'வானிலை',
      temperature: 'வெப்பநிலை',
      humidity: 'ஈரப்பதம்',
      windSpeed: 'காற்று வேகம்',
      rainfall: 'மழைப்பொழிவு',
      uvIndex: 'UV குறியீடு',
      cloudCover: 'மேக மறைப்பு',
      agriculturalData: 'விவசாய தரவு',
      soilMoisture: 'மண் ஈரப்பதம்',
      soilTemp: 'மண் வெப்பநிலை',
      cropHealth: 'பயிர் ஆரோக்கியம்',
      good: 'நல்லது',
      fair: 'நடுத்தரம்',
      poor: 'மோசமானது',
      growingSeason: 'பயிர் பருவம்',
      kharif: 'காரிப்',
      rabi: 'ரபி',
      forecast: 'வானிலை முன்னறிவிப்பு',
      today: 'இன்று',
      tomorrow: 'நாளை',
      dayAfter: 'நாளை மறுநாள்',
      weatherAlert: 'நாளை மழை பொழியும் வாய்ப்பு உள்ளது! நீர் பாய்ச்சலை திட்டமிடுங்கள்.',
      importantNotice: 'முக்கிய அறிவிப்பு',
      priceIncrease: 'தக்காளி விலை உயர்வு',
      priceIncreaseDesc: 'அடுத்த வாரம் தக்காளி விலை 15% உயரும் என்று எதிர்பார்க்கப்படுகிறது. இப்போது விற்பனை செய்யுங்கள்!',
      listening: 'கேட்கிறது...',
      marketPrices: 'சந்தை விலைகள்',
      checkPrices: 'விலைகளை பார்க்க',
      cropCalendar: 'பயிர் காலண்டர்',
      voiceCommands: 'குரல் கட்டமைப்புகள்'
    },
    english: {
      dashboard: 'Dashboard',
      myProducts: 'My Products',
      orders: 'Orders',
      earnings: 'Earnings',
      settings: 'Settings',
      addProduct: 'Add Product',
      totalSales: 'Total Sales',
      pendingOrders: 'Pending Orders',
      totalEarnings: 'Total Earnings',
      recentOrders: 'Recent Orders',
      productName: 'Product Name',
      price: 'Price',
      stock: 'Stock',
      status: 'Status',
      actions: 'Actions',
      viewAll: 'View All',
      logout: 'Logout',
      voiceUpload: 'Voice Upload',
      priceUp: 'Price Up',
      priceDown: 'Price Down',
      priceStable: 'Price Stable',
      weather: 'Weather',
      temperature: 'Temperature',
      humidity: 'Humidity',
      windSpeed: 'Wind Speed',
      rainfall: 'Rainfall',
      uvIndex: 'UV Index',
      cloudCover: 'Cloud Cover',
      agriculturalData: 'Agricultural Data',
      soilMoisture: 'Soil Moisture',
      soilTemp: 'Soil Temperature',
      cropHealth: 'Crop Health',
      good: 'Good',
      fair: 'Fair',
      poor: 'Poor',
      growingSeason: 'Growing Season',
      kharif: 'Kharif',
      rabi: 'Rabi',
      forecast: 'Weather Forecast',
      today: 'Today',
      tomorrow: 'Tomorrow',
      dayAfter: 'Day After',
      weatherAlert: 'Chance of rain tomorrow! Plan your irrigation accordingly.',
      importantNotice: 'Important Notice',
      priceIncrease: 'Tomato Price Increase',
      priceIncreaseDesc: 'Tomato prices are expected to increase by 15% next week. Sell now!',
      listening: 'Listening...',
      marketPrices: 'Market Prices',
      checkPrices: 'Check Prices',
      cropCalendar: 'Crop Calendar',
      voiceCommands: 'Voice Commands'
    }
  }
}">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="flex items-center mb-8">
      <div class="w-12 h-12 rounded-full bg-green-500 flex items-center justify-center text-white font-bold text-xl">
        உக <!-- Changed to Tamil initials -->
      </div>
      <span class="ml-3 font-bold text-xl text-gray-800">உழவன் கனெக்ட்</span>
    </div>

    <nav class="space-y-2">
      <!-- Dashboard -->
      <a href="#" 
         class="nav-item" 
         style="background-color: #ffffff; color: #4CAF50; border-left: 4px solid #4CAF50;"
         @click.prevent="window.location.href='dashboard.html'"
         @mouseover="this.style.backgroundColor='#1a1a1a'; this.style.color='#66BB6A';"
         @mouseout="this.style.backgroundColor='#000'; this.style.color='#4CAF50';">
        <div class="nav-icon">
          <i class="fas fa-home" style="color: #4CAF50;"></i>
        </div>
        <span x-text="translations[language].dashboard"></span>
      </a>

      <!-- Products -->
      <a href="#"
         class="nav-item" 
         style="background-color: #ffffff; color: #4CAF50; border-left: 4px solid #4CAF50;"
         @click.prevent="window.location.href='products.html'"
         @mouseover="this.style.backgroundColor='#1a1a1a'; this.style.color='#66BB6A';"
         @mouseout="this.style.backgroundColor='#000'; this.style.color='#4CAF50';">
        <div class="nav-icon">
          <i class="fas fa-box" style="color: #4CAF50;"></i>
        </div>
        <span x-text="translations[language].myProducts"></span>
      </a>

      <!-- Orders -->
      <a href="#"
         class="nav-item" 
         style="background-color: #ffffff; color: #4CAF50; border-left: 4px solid #4CAF50;"
         @click.prevent="window.location.href='orders.html'"
         @mouseover="this.style.backgroundColor='#1a1a1a'; this.style.color='#66BB6A';"
         @mouseout="this.style.backgroundColor='#000'; this.style.color='#4CAF50';">
        <div class="nav-icon">
          <i class="fas fa-shopping-cart" style="color: #4CAF50;"></i>
        </div>
        <span x-text="translations[language].orders"></span>
        <span class="notification-badge" x-show="notifications > 0" x-text="notifications"></span>
      </a>

      <!-- Earnings -->
      <a href="#"
         class="nav-item" 
         style="background-color: #ffffff; color: #4CAF50; border-left: 4px solid #4CAF50;"
         @click.prevent="window.location.href='earnings.html'"
         @mouseover="this.style.backgroundColor='#1a1a1a'; this.style.color='#66BB6A';"
         @mouseout="this.style.backgroundColor='#000'; this.style.color='#4CAF50';">
        <div class="nav-icon">
          <i class="fas fa-wallet" style="color: #4CAF50;"></i>
        </div>
        <span x-text="translations[language].earnings"></span>
      </a>

      <!-- Settings -->
      <a href="#"
         class="nav-item" 
         style="background-color: #ffffff; color: #4CAF50; border-left: 4px solid #4CAF50;"
         @click.prevent="window.location.href='settings.html'"
         @mouseover="this.style.backgroundColor='#1a1a1a'; this.style.color='#66BB6A';"
         @mouseout="this.style.backgroundColor='#000'; this.style.color='#4CAF50';">
        <div class="nav-icon">
          <i class="fas fa-cog" style="color: #4CAF50;"></i>
        </div>
        <span x-text="translations[language].settings"></span>
      </a>

      <!-- Nabard -->
      <a href="#"
         class="nav-item" 
         style="background-color: #ffffff; color: #4CAF50; border-left: 4px solid #4CAF50;"
         @click.prevent="window.location.href='nabard.html'"
         @mouseover="this.style.backgroundColor='#1a1a1a'; this.style.color='#66BB6A';"
         @mouseout="this.style.backgroundColor='#000'; this.style.color='#4CAF50';">
        <div class="nav-icon">
          <i class="fas fa-seedling" style="color: #4CAF50;"></i>
        </div>
        <span>நாபார்ட்</span> <!-- Tamil translation -->
      </a>

      <!-- Fertilizer -->
      <a href="#"
         class="nav-item" 
         style="background-color: #ffffff; color: #4CAF50; border-left: 4px solid #4CAF50;"
         @click.prevent="window.location.href='/Fertilizer/fertilizer.html'"
         @mouseover="this.style.backgroundColor='#1a1a1a'; this.style.color='#66BB6A';"
         @mouseout="this.style.backgroundColor='#000'; this.style.color='#4CAF50';">
        <div class="nav-icon">
          <i class="fas fa-seedling" style="color: #4CAF50;"></i>
        </div>
        <span>உரம்</span> <!-- Tamil translation -->
      </a>

      <!-- Loan -->
      <a href="#"
         class="nav-item" 
         style="background-color: #ffffff; color: #4CAF50; border-left: 4px solid #4CAF50;"
         @click.prevent="window.location.href='/loan.html'"
         @mouseover="this.style.backgroundColor='#1a1a1a'; this.style.color='#66BB6A';"
         @mouseout="this.style.backgroundColor='#000'; this.style.color='#4CAF50';">
        <div class="nav-icon">
          <i class="fas fa-seedling" style="color: #4CAF50;"></i>
        </div>
        <span>கடன்</span> <!-- Tamil translation -->
      </a>
    </nav>

    <div class="absolute bottom-4 left-4 right-4">
      <button class="w-full action-button flex items-center justify-center">
        <i class="fas fa-sign-out-alt mr-2"></i>
        <span x-text="translations[language].logout"></span>
      </button>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Header -->
    <header class="flex justify-between items-center mb-8">
      <h1 class="text-2xl font-bold text-gray-800" x-text="translations[language].dashboard"></h1>
      <div class="flex items-center space-x-4">
        <button class="giant-button action-button">
          <i class="fas fa-plus"></i>
          <span x-text="translations[language].addProduct"></span>
        </button>
        <select x-model="language" class="border rounded-lg px-3 py-2">
          <option value="tamil">தமிழ்</option>
          <option value="english">English</option>
        </select>
      </div>
    </header>

    <!-- Rest of your content remains exactly the same -->
    <!-- The Alpine.js data binding will automatically handle all translations -->
    
    <!-- Voice Button -->
    <button 
      class="voice-button"
      x-data="{
        isRecording: false,
        recognition: null,
        init() {
          if ('webkitSpeechRecognition' in window) {
            this.recognition = new webkitSpeechRecognition();
            this.recognition.continuous = false;
            this.recognition.interimResults = false;
            
            this.recognition.onresult = (event) => {
              const transcript = event.results[0][0].transcript.toLowerCase();
              this.processCommand(transcript);
            };
            
            this.recognition.onerror = (event) => {
              this.isRecording = false;
              this.showFeedback('பிழை: ' + event.error, 'error');
            };
          }
        },
        toggleRecording() {
          if (!this.recognition) {
            this.showFeedback('குரல் ஆதரவு இல்லை', 'error');
            return;
          }
          
          if (this.isRecording) {
            this.recognition.stop();
          } else {
            this.recognition.lang = this.$store.app.language === 'tamil' ? 'en-US' : 'ta-IN';
            this.recognition.start();
            this.isRecording = true;
            this.showFeedback(this.$store.app.translations[this.$store.app.language].listening, 'info');
          }
        },
        processCommand(transcript) {
          if ((transcript.includes('தமிழுக்கு மாற்று') || transcript.includes('tamiluku mattaru'))) {
            if (this.$store.app.language !== 'tamil') {
              this.$store.app.language = 'tamil';
              this.showFeedback('மொழி தமிழாக மாற்றப்பட்டது', 'success');
            }
          } 
          else if (transcript.includes('switch to english')) {
            if (this.$store.app.language !== 'english') {
              this.$store.app.language = 'english';
              this.showFeedback('ஆங்கிலத்திற்கு மாற்றப்பட்டது', 'success');
            }
          }
          else if (transcript.includes('add product') || transcript.includes('பொருள் சேர்')) {
            window.location.href = 'voice.html';
          }
        },
        showFeedback(message, type = 'info') {
          const toast = document.createElement('div');
          toast.className = `voice-toast ${type}`;
          toast.innerHTML = message;
          document.body.appendChild(toast);
          setTimeout(() => toast.remove(), 3000);
        }
      }"
      @click="toggleRecording()"
      :class="{ 'recording': isRecording }"
    >
      <i class="fas text-xl" :class="isRecording ? 'fa-microphone-slash text-red-500' : 'fa-microphone'"></i>
    </button>
  </main>
</body>
</html>